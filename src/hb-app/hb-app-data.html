<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<!-- <link rel="import" href="../../bower_components/polymerfire/firebase-firestore-script.html"> -->
<link rel="import" href="../../bower_components/polymerfire/firebase-firestore-mixin.html">
<link rel="import" href="EventMap.html">
<script>
/**
 * @customElement
 * @polymer
 */
class HbAppData extends EventMap(
    Polymer.FirestoreMixin(Polymer.Element)
) {
    static get is() { return 'hb-app-data'; }

    static get properties() {
        return {
            app: {
                type: Object,
                notify: true,
                doc: "system/app"
            },
            
            appReady: {
                type: Boolean,
                notify: true,
                value: false
            }
        };
    }

    static get eventsListenAt() {
        return "parent";
    }
    
    // static get events() {
    //     return {
    //         "request-app-data": "_requestAppData"
    //     };
    // }

    // _requestAppData(event) {
    //     const db = firebase.firestore();
    //     db.doc("system/app").onSnapshot(doc => {
    //         this.set("app", doc.data());
    //         this.set("appReady", true);
    //     });
    // }
}

window.customElements.define(HbAppData.is, HbAppData);
</script>
